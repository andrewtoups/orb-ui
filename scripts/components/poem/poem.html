<article data-bind="visible: poemData() && iconsReady(), event: {click: toggleActive, keydown: keyDown}" tabindex="1" id="poem" class="moon">
    <div class="debug-bday" data-bind="visible: showDebug, if: birthData">
        <div data-bind="text: birthDay"></div>
        <div data-bind="text: location"></div>
        <div data-bind="text: coords"></div>
    </div>
    <span class="image-region" data-bind="class: iconPrimary()+'-layout'">
        <span class="icon primary" data-bind="class: iconPrimary, css: {masked: vm.pageTransitioning() || isLoading()}"></span>
        <span class="icon secondary" data-bind="class: iconSecondary, css: {masked: vm.pageTransitioning() || isLoading()}"></span>
        <span class="icon tertiary" data-bind="class: iconTertiary, css: {masked: vm.pageTransitioning() || isLoading()}"></span>
        <div data-bind="foreach: lines">
            <form data-bind="css: {active: $parent.linesActive}">
                <!-- ko if: ($index() === 3) -->
                <span data-bind="if: vm.screenshotMode()" class="watermark-container">
                    <img src="/styles/png/orb-url-handwritten.png">
                </span>        
                <!-- /ko -->
                <span data-bind="text: line"></span>
                <legend data-bind="text: placement"></legend>
            </form>
        </div>
        <span data-bind="if: vm.screenshotMode()" class="logo-container">
            <img src="/styles/png/orb-logo-isolated.png">
        </span>
    </span>
    <nav data-bind="css: {masked: vm.pageTransitioning()}">
        <a href="#" data-bind="click: (data, event) => { vm.launchModal('share')}" class="share-link"><img src="/styles/png/share.png"></a>
        <a data-bind="click: (data, event) => { vm.launchModal('stats', stats) }" class="stats-link" href="#">view stats</a>
    </nav>
</article>
